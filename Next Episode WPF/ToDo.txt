Next Episode - Updated TODO List

Core Features / Functionality

- Add Show from Folder with recursive season detection and video duration extraction (using MediaToolkit).
- Logging of errors and info throughout service methods.
- Show selection and display current/next episode info.
- Watch progress calculation and display.
- Mark episode as watched and update current episode.
- Mark episode as unwatched (set WhenWatched = null).
- Mark show as unfinished (reset IsFinished and optionally WhenWatched).
- Bulk progress reset:
    - Set all WhenWatched values to null.
    - Reset CurrentEpisodePath to first episode.
    - Reset IsFinished = false.
- Play current episode (open in default video player).
- Delete confirmation and file removal:
    - Prompt user if they want to delete associated files.
    - Always remove metadata.
- Data validation / recovery:
    - Detect corrupted JSON files.
    - Offer to repair or delete broken shows.

Episode Number Picker UI

- Display example filename.
- Provide radio buttons for common regex numbering schemes.
- Provide textbox for custom regex input.
- Confirm button to submit regex scheme.
- Prevent layout shift when toggling custom input.
- Place confirm button and textbox on same row.
- Add short description text at top of window.
- Reset custom input each time "Custom" is selected.
- Add placeholder behavior to custom input (clears on click, resets on blur).
- Regex input validation and user feedback.
- Apply user-selected regex to parse episode numbers and order accordingly.

Integration

- Integrate Episode Number Picker into Add Show workflow.
- Call regex picker after folder selection but before adding show.
- Use selected regex to extract episode numbers.

UI / UX Improvements

- Main window layout with show selector, episode info, poster, progress stats, logs, and control buttons.
- Handle “no shows” case with proper message and disabled controls.
- Visual feedback:
    - Show watch progress as a progress bar.
    - Color-code watched/unwatched episodes.
- Search or filter in UI (e.g., by name, watched, finished).
- Style improvements (postpone until core functionality stable).

Show Manager View

- Implement Show Manager view.
- Edit or rename shows.
- Delete shows (with optional file deletion).
- Add, delete, or rename seasons.

Settings View

- Implement settings/configuration window.

File & Metadata Handling

- Scan folders recursively for video files (.mkv, .mp4, etc.).
- Match files to episodes using regex.
- Store full paths for episodes.
- Extract duration for each video and assign to episodes.
- Add optional DurationMinutes field.
- Calculate total/remaining watch time per show.

Enhancements / Future

- Handle more complex folder structures (multi-season folders).
- Support more video extensions if needed.
- Improve filename parsing for edge cases.
- Save user regex preferences per show.
- Support multiple audio tracks/subtitles (future).
- Detect duplicate episodes or inconsistencies.
- Flag incomplete shows (missing episodes).
- Show statistics: time spent watching, watch speed, etc.
- Unit and integration tests for services and UI.
- Bulk import shows from a root folder.
